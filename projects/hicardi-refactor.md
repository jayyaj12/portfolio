---
layout: page
title: Hicardi Refactor
---

## Overview
레거시 Android 코드베이스를 Kotlin 기반으로 재설계하며,  
MVI·Clean Architecture를 적용해 **상태 흐름과 의존성 구조를 명확히** 하고,  
멀티모듈·build-logic·CI/CD를 도입해 **개발·빌드·배포 전반의 생산성 문제를 해결**한 프로젝트입니다.  

기존 구조에서는 기능 추가 시 영향 범위가 넓고, 빌드·배포 시간이 길어  
작은 수정도 운영 리스크로 이어지는 문제가 있었으며,  
본 프로젝트에서는 **“빠르게 변경하고, 안전하게 배포할 수 있는 구조”**를 만드는 데 집중했습니다.

---

## Context
- 기간: 2025.09 ~ 2025.12  
- 역할: Android Developer (리팩토링 주도)  
- 기술 스택: Kotlin, MVI, Clean Architecture, Multi-module, build-logic, Gradle(KTS), GitHub Actions, JUnit5  

---

## Problem
- 레거시(Java) 기반 구조로 인해 상태 흐름이 불명확하고 수정 영향 범위가 큼
- 단일 모듈 구조로 빌드 시간이 길고, 변경 시 전체 빌드가 필요
- Gradle 설정이 분산되어 있어 유지보수 비용 증가
- 테스트 기반이 부족해 회귀 버그에 대한 불안이 큼
- 수동 배포 의존으로 릴리즈 리드타임이 길어짐

---

## Approach

### 1. Architecture 재설계
- 화면 단위 상태 관리를 위해 **MVI 패턴** 도입
- 도메인·프레젠테이션·데이터 레이어 분리를 통한 **Clean Architecture 적용**
- 상태 변경과 사이드이펙트를 명시적으로 관리해 예측 가능한 UI 흐름 구성

### 2. 멀티모듈 구조 도입
- 기능·레이어 기준으로 모듈을 분리해 변경 영향 범위 최소화
- 공통 의존성은 core 모듈로 분리하여 중복 제거
- 병렬 개발 및 빌드 성능 개선을 목표로 구조 설계

### 3. build-logic 적용
- Gradle 설정을 build-logic으로 추출해 공통 Convention 정립
- 플러그인·의존성 버전 관리 일원화
- 신규 모듈 추가 시 설정 비용 최소화

### 4. CI/CD 구축
- GitHub Actions 기반 CI/CD 파이프라인 구성
- 빌드·테스트·배포 단계 자동화
- 릴리즈 과정에서의 수동 작업 및 휴먼 에러 감소

---

## Before / After

### Before
- 단일 모듈 구조로 빌드 시간이 길고 변경 비용이 큼
- 상태 관리가 분산되어 UI 예측이 어려움
- Gradle 설정 중복으로 유지보수 난이도 증가
- 테스트 기반 부족으로 변경 시 불안 요소 큼

### After
- 멀티모듈 구조로 변경 범위 및 빌드 범위 축소
- MVI 도입으로 상태 흐름이 명확해지고 디버깅 용이
- build-logic을 통한 Gradle 설정 표준화
- CI/CD 자동화로 배포 안정성 및 속도 개선

---

## Result
- 빌드 시간 **78% 단축** (약 7s → 1.5s)
- 배포 소요 시간 **66% 감소** (약 30분 → 10분)
- 테스트 커버리지 약 **60% 수준까지 확대**
- 구조 변경 이후 기능 추가 시 영향 범위 감소 및 개발 속도 개선

---

## What I learned
- 아키텍처 선택은 “이론적 정답”보다 **운영 환경에서의 변경 비용**이 중요함
- 멀티모듈은 빌드 성능뿐 아니라 **팀 커뮤니케이션 비용을 줄이는 효과**가 있음
- CI/CD는 단순 자동화가 아니라 **릴리즈 신뢰도를 높이는 장치**